/**
 * SCSS for HR Custody Module
 * Following Odoo 18 coding guidelines
 */

// Variables
$-image-border-radius: 4px;
$-button-spacing: 16px;
$-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);

// Define CSS variables at root
:root {
    --custody-status-draft: #{$o-gray-200};
    --custody-status-to-approve: #{$o-info};
    --custody-status-approved: #{$o-success};
    --custody-status-returned: #{$o-gray-400};
    --custody-status-rejected: #{$o-danger};
    --custody-brand-primary: #{$o-brand-primary};
    --custody-brand-primary-dark: #{darken($o-brand-primary, 10%)};
}

// Styles for image comparison view
.o_custody_comparison_container {
    display: flex;
    flex-direction: row;
    gap: 20px;
    
    .o_custody_comparison_column {
        flex: 1;
    }
    
    .o_custody_comparison_image_container {
        text-align: center;
        margin-bottom: 16px;
    }
}

// Custom styling for the image buttons
.o_custody_image_buttons {
    display: flex;
    gap: $-button-spacing;
    margin-bottom: 16px;
    
    .btn {
        margin-right: $-button-spacing;
        
        &:last-child {
            margin-right: 0;
        }
    }
}

// Badge styling for custody status
.o_custody_status {
    &.o_custody_status_draft {
        background-color: var(--custody-status-draft, #CCCCCC);
    }
    
    &.o_custody_status_to_approve {
        background-color: var(--custody-status-to-approve, #6CB2EB);
        color: white;
    }
    
    &.o_custody_status_approved {
        background-color: var(--custody-status-approved, #38C172);
        color: white;
    }
    
    &.o_custody_status_returned {
        background-color: var(--custody-status-returned, #B8C2CC);
    }
    
    &.o_custody_status_rejected {
        background-color: var(--custody-status-rejected, #E3342F);
        color: white;
    }
}

// Improved image display in kanban view
.o_kanban_image {
    .o_attachment_image {
        width: 100%;
        height: 160px;
        object-fit: cover;
        object-position: center;
        border-radius: $-image-border-radius;
        box-shadow: $-box-shadow;
    }
    
    .o_attachment_image_card {
        position: relative;
        overflow: hidden;
        
        .o_image_overlay {
            @include o-position-absolute(0, 0, 0, 0);
            background: rgba(0, 0, 0, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.2s ease;
            
            &:hover {
                opacity: 1;
            }
            
            .o_attachment_button_view {
                background: var(--custody-brand-primary, #7C7BAD);
                color: white !important;
                padding: 8px 16px;
                border-radius: 20px;
                font-weight: bold;
                display: inline-block;
                text-decoration: none;
                cursor: pointer;
                font-size: 14px;
                transition: all 0.2s ease;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
                
                &:hover {
                    background: var(--custody-brand-primary-dark, #5D5C8E);
                    filter: brightness(0.9);
                    transform: scale(1.05);
                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
                }
                
                i.fa {
                    margin-right: 5px;
                }
            }
        }
    }
    
    .o_kanban_record_title {
        font-weight: bold;
        margin-top: 8px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
}

// Fullscreen image viewer
.o_custody_image_fullscreen {
    .oe_avatar {
        max-width: 100%;
        max-height: 75vh;
        width: auto;
        height: auto;
        margin: 0 auto;
        display: block;
        object-fit: contain;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        border-radius: $-image-border-radius;
    }

    // Adjusting modal size for better viewing
    &.o_modal_full {
        .modal-dialog {
            max-width: 90%;
            height: 90%;
            margin: 5vh auto;
        }
    }
    
    // Styling footer with proper spacing
    footer {
        border-top: 1px solid #eeeeee;
        margin-top: 15px;
        padding-top: 10px;
    }
}

// Fullscreen Image View Styling
.o_custody_image_fullscreen {
    .modal-dialog {
        max-width: 95vw;
        max-height: 95vh;
        width: auto;
        margin: 10px auto;
    
        .modal-content {
            height: calc(100vh - 50px);
            
            .o_form_sheet {
                max-width: none;
                width: 100%;
                margin: 0;
                padding: 0;
                overflow: hidden;
                
                .o_image_container {
                    margin: 0;
                    padding: 0;
                    
                    .o_field_image {
                        max-width: 100%;
                        max-height: 100%;
                        cursor: zoom-in;
                    }
                    
                    .o_image_large {
                        max-width: 100%;
                        transition: transform 0.3s ease;
                    }
                }
            }
        }
    }
}

// Image Zoom Overlay
.o_web_client .o_dialog_container .modal.o_technical_modal.o_modal_full.o_image_zoom {
    width: 100% !important;
    height: 100% !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    margin: 0 !important;
    padding: 0 !important;
    
    .modal-content {
        background-color: rgba(0, 0, 0, 0.9);
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        
        img {
            max-width: 95vw;
            max-height: 95vh;
            object-fit: contain;
        }
    }
}

// Specific styles for images & condition tab buttons
.oe_button_box[name="image_button_box"] {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    
    button.oe_stat_button, button.o_custody_button {
        margin-right: 20px;
    }
    
    button.o_custody_button {
        &[name="action_add_multiple_images"] {
            margin-right: 40px;
            margin-left: 20px;
            padding-left: 16px;
            padding-right: 16px;
        }
        
        &[name="action_manage_multiple_images"] {
            margin-right: 40px;
            padding-left: 16px;
            padding-right: 16px;
        }
    }
    
    // Add spacer between buttons
    .o_custody_button_spacer {
        width: 10px;
        display: inline-block;
    }
} 